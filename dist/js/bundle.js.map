{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Accordion.js","webpack:///./src/AjaxSend.js","webpack:///./src/Calculator.js","webpack:///./src/FilterElements.js","webpack:///./src/Messages.js","webpack:///./src/ModalWindow.js","webpack:///./src/PhoneTemplate.js","webpack:///./src/Slider.js","webpack:///./src/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA,uEAAuE,eAAe;;AAEtF;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;AC/Ba;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,gCAAgC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA,4B;;;;;;;;;;;ACnGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,gC;;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0B;;;;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6B;;;;;;;;;;;ACvCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+B;;;;;;;;;;;;ACrGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;;;;;;;AChPa;;AAEb;;AAEA;AACA,sBAAsB,mBAAO,CAAC,8CAAkB;AAChD,sBAAsB,mBAAO,CAAC,wCAAe;AAC7C,wBAAwB,mBAAO,CAAC,kDAAoB;AACpD,qBAAqB,mBAAO,CAAC,4CAAiB;AAC9C,yBAAyB,mBAAO,CAAC,oDAAqB;AACtD,iBAAiB,mBAAO,CAAC,oCAAa;AACtC,oBAAoB,mBAAO,CAAC,0CAAgB;AAC5C,mBAAmB,mBAAO,CAAC,wCAAe;;AAE1C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,MAAM;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,MAAM;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,wBAAwB;;;AAG3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,sEAAsE,gBAAgB,EAAE;AACxF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,0EAA0E,gBAAgB,EAAE;AAC5F;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL,CAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","class Accordion {\n    constructor(parentElement, buttons, notes) {\n        this.parentElement = parentElement;\n        this.buttons = buttons;\n        this.notes = notes;\n        this.fadeInClass = 'fadeInDown';\n        this.fadeOutClass = 'fadeOutUp';\n\n        this.buttonActiveClass = 'ui-accordion-header-active';\n\n        this.resetElements();\n        this._init();\n    }\n    resetElements(exceptionElementNumber) {\n        this.buttons.forEach((element) => {\n            if (typeof exceptionElementNumber !== \"undefined\" && element === this.buttons[exceptionElementNumber]) {\n                return;\n            }\n            element.classList.remove(this.buttonActiveClass);\n        });\n\n        this.notes.forEach((element) => {\n            if (typeof exceptionElementNumber !== \"undefined\" && element === this.notes[exceptionElementNumber]) {\n                return;\n            }\n            element.classList.remove(this.fadeInClass);\n            element.classList.remove(this.fadeOutClass);\n            element.classList.add(this.fadeOutClass);\n            setTimeout(() => {\n                element.style.display = 'none';\n                element.classList.remove(this.fadeOutClass);\n            }, 600);\n        });\n    }\n\n    _init() {\n        this.notes.forEach((element) => element.style.display = 'none');\n        this.buttons.forEach((element, number) => {\n            element.addEventListener('click', (event) => {\n                this.resetElements(number);\n                if (this.buttons[number].classList.contains(this.buttonActiveClass)) {\n                    this.buttons[number].classList.remove(this.buttonActiveClass);\n                    this.notes[number].classList.remove(this.fadeInClass);\n                    this.notes[number].classList.remove(this.fadeOutClass);\n                    this.notes[number].classList.add(this.fadeOutClass);\n                    setTimeout(() => {\n                        this.notes[number].style.display = 'none';\n                        this.notes[number].classList.remove(this.fadeOutClass);\n                    }, 400);\n                } else {\n                    this.buttons[number].classList.add(this.buttonActiveClass);\n                    this.notes[number].style.display = 'block';\n                    this.notes[number].classList.remove(this.fadeInClass);\n                    this.notes[number].classList.add(this.fadeInClass);\n                }\n            });\n        });\n    }\n}\nmodule.exports = Accordion;\n\n\n/*\n@keyframes fadeInDown {\n  from {\n    opacity: 0;\n    transform: translate3d(0, -100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n.fadeInDown {\n    animation-name: fadeInDown;\n    -webkit-animation-duration: 1.0s;\n    animation-duration: 1.0s;\n    -webkit-animation-duration: 1.0s;\n}\n\n\n@keyframes fadeOutUp {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, -100%, 0);\n  }\n}\n\n.fadeOutUp {\n    animation-name: fadeOutUp;\n    -webkit-animation-duration: 1.0s;\n    animation-duration: 1.0s;\n    -webkit-animation-duration: 1.0s;\n}\n */","class AjaxSend {\n    ajaxSendResponce(formElement, method, url) {\n        return new Promise(function(resolve, reject) {\n            let formData = new FormData(formElement),\n                request = new XMLHttpRequest(),\n                obj = {};\n            formData.forEach((value, key) => {\n                obj[key] = value;\n            });\n\n            request.open(method, url);\n            request.setRequestHeader('Content-Type', 'application/json; charset=utf-8;');\n\n            request.onload = function() {\n                if (this.status === 200) {\n                    resolve(this.response);\n                } else {\n                    let error = new Error(this.statusText);\n                    error.code = this.status;\n                    reject(error);\n                }\n            };\n\n            request.onerror = function() {\n                reject(new Error(\"Network Error\"));\n            };\n\n            request.send(JSON.stringify(obj));\n        });\n    }\n}\nmodule.exports = AjaxSend;\n","'use strict';\n\nclass Calculator {\n    constructor(selectorObjects, buttonCalculate, outputField, startText) {\n        this.selectorObjects = selectorObjects;\n        this.buttonCalculate = buttonCalculate;\n        this.outputField = outputField;\n        this.startText = startText;\n        this.totalPrice = '';\n        this.totalBonus = {};\n\n        this._initCalculator();\n    }\n\n    addBonusCode(inputElement, code, bonusValue, isPercent = false) {\n        inputElement.addEventListener('input', (event) => {\n            if (event.target.value.replace(/\\s/g, '') === code) {\n                this.totalBonus[code] = {\n                    bonusValue: bonusValue,\n                    isPercent: isPercent\n                };\n                this._calculate();\n            }\n        });\n    }\n\n    getCurrentBonus() {\n        let bonusInPercent = 0,\n            bonusInValue = 0,\n            bonusTotal = 0;\n        for(let key in this.totalBonus){\n            if (this.totalBonus.hasOwnProperty(key)) {\n                let item = this.totalBonus[key];\n                if (item.isPercent === true) {\n                    bonusInPercent += +item.bonusValue;\n                } else {\n                    bonusInValue += +item.bonusValue;\n                }\n            }\n        }\n        bonusInPercent = bonusInPercent > 100 ? 100 : bonusInPercent;\n        bonusTotal = (this.totalPrice / 100 * bonusInPercent) + bonusInValue;\n        return bonusTotal;\n    }\n\n    _calculate() {\n        this.totalPrice = 0;\n        let isPassed = true;\n\n        this.selectorObjects.forEach((item) => {\n            let element = item.element;\n\n            if (item.isRequire === true &&\n                (typeof element.options[element.selectedIndex].value === undefined ||\n                +element.options[element.selectedIndex].value === 0 ||\n                element.options[element.selectedIndex].value === '')\n            ){\n                element.setCustomValidity(item.errorMessage);\n                isPassed = false;\n            } else {\n                element.setCustomValidity('');\n                this.totalPrice += +element.options[element.selectedIndex].value;\n            }\n        });\n\n        if (isPassed === true) {\n            let discountText = this.getCurrentBonus() > 0 ? ' Ваша скидка: ' + this.getCurrentBonus() : '';\n            this.outputField.innerHTML = (this.totalPrice - this.getCurrentBonus()) + discountText;\n        } else {\n            this.outputField.innerHTML = this.startText;\n        }\n    }\n\n    _initCalculator() {\n        this.outputField.innerHTML = this.startText;\n        this.selectorObjects.forEach((item) => {\n            if (item.element.tagName === 'SELECT') {\n                for (let numb = 0; numb <  item.priceScope.length; numb++) {\n                    item.element.options[numb].value = item.priceScope[numb];\n                }\n            }\n            if (item.isTrigger === true) {\n                let eventType = item.element.tagName === 'SELECT' ? 'change' : 'input';\n                item.element.addEventListener(eventType, (event) => {\n                    this._calculate();\n                    if (event.target.tagName === 'INPUT') {\n                        event.target.value = event.target.value.replace(/^0|[^\\d]/g, '');\n                    }\n                });\n            }\n\n            if (this.buttonCalculate !== null) {\n                this.buttonCalculate.addEventListener('click', (event) => {\n                    this._calculate();\n                });\n            }\n        });\n    }\n}\nmodule.exports = Calculator;","class FilterElements {\n    constructor(ButtonContainer, elementsContainer, activeButtonClass = 'active') {\n        this.buttonContainer = ButtonContainer;\n        this.elementsContainer = elementsContainer;\n        this.activeButtonClass = activeButtonClass;\n\n        this._init();\n    }\n\n    _init() {\n        this.buttonContainer.addEventListener('click', (event) => {\n            Array.from(this.buttonContainer.children).forEach((element) => {\n                if (element === event.target){\n                    element.classList.add(this.activeButtonClass);\n                } else {\n                    element.classList.remove(this.activeButtonClass);\n                }\n            });\n            let isNoFoundAny = true;\n            event.target.classList.forEach((className) => {\n                Array.from(this.elementsContainer.children).forEach((element) => {\n                    if (className === this.activeButtonClass) {\n                        return;\n                    }\n\n                    if(element.classList.contains(className)) {\n                        element.style.display = 'block';\n                        isNoFoundAny = false;\n                    } else {\n                        element.style.display = 'none';\n                    }\n                });\n            });\n            document.querySelector('.portfolio-no').style.display = isNoFoundAny === true ? 'block' : 'none';\n        });\n    }\n}\nmodule.exports = FilterElements;","class Messages {\n    constructor(){\n        this.messages = {\n            ajaxSuccess: {\n                text: 'Собщение отправлено',\n                class: 'success',\n            },\n            ajaxProcess: {\n                text: 'Отправка',\n                class: 'process',\n            },\n            ajaxError: {\n                text: 'Ошибка',\n                class: 'error',\n            },\n        };\n\n        this._init();\n    }\n    _init() {\n        let messageContainer = document.createElement('div'),\n            messageText = document.createElement('div'),\n            messageImage = document.createElement('div');\n        messageContainer.className = 'popup-message-content';\n        messageText.id = 'popup-message-text';\n        messageImage.id = 'popup-message-image';\n        messageContainer.appendChild(messageImage);\n        messageContainer.appendChild(messageText);\n        messageContainer.setAttribute('display', 'none');\n\n        this.messageContainer = messageContainer;\n        this.messageText = messageText;\n        this.messageImage = messageImage;\n    }\n\n    getMessageContainer() {\n        return this.messageContainer;\n    }\n\n    setMessageToProcess() {\n        this.messageImage.className = this.messages.ajaxProcess.class;\n        this.messageText.innerHTML = this.messages.ajaxProcess.text;\n    }\n\n    setMessageToSuccess() {\n        this.messageImage.className = this.messages.ajaxSuccess.class;\n        this.messageText.innerHTML = this.messages.ajaxSuccess.text;\n    }\n\n    setMessageToError() {\n        this.messageImage.className = this.messages.ajaxError.class;\n        this.messageText.innerHTML = this.messages.ajaxError.text;\n    }\n}\nmodule.exports = Messages;","class ModalWindow {\n    constructor(modalElement, overlay, triggers, closers) {\n        this.modalElement = modalElement;\n        this.overlay = overlay;\n        this.triggers = triggers;\n        this.closers = closers;\n\n        this.initModal();\n    }\n\n    initModal() {\n        this.triggers.forEach((item) => item.addEventListener('click', (event) => {\n            this.modalShow();\n        }));\n\n        this.closers.forEach((item) => item.addEventListener('click', (event) => {\n            this.modalHide();\n        }));\n\n        this.overlay.addEventListener('click', (event) => {\n            if (event.target === this.overlay) {\n                this.modalHide();\n            }\n        });\n    }\n\n    modalShow() {\n        this.modalElement.style.display = 'block';\n        this.overlay.style.display = 'block';\n        document.body.style.overflow = 'hidden';\n    }\n\n    modalHide() {\n        this.modalElement.style.display = 'none';\n        this.overlay.style.display = 'none';\n        document.body.style.overflow = '';\n    }\n}\n\nmodule.exports = ModalWindow;","class PhoneTemplate {\n\n    constructor(phoneInputElement, template, startPos) {\n        String.prototype.replaceAt=function(index, replacement) {\n            return this.substr(0, index) + replacement+ this.substr(index + replacement.length);\n        };\n\n        this.phoneInput = phoneInputElement;\n        this.template = template;\n        this.curentString = template;\n        this.startPosition = startPos;\n        this.keyCode = '';\n        this.phoneInput.value = template;\n        this.setCursorPosition(startPos);\n\n        this.startObservers();\n    }\n\n    isValid() {\n        if (this.curentString.indexOf('_') === -1) {\n            return true;\n        }\n        return false;\n    }\n\n    startObservers() {\n        document.addEventListener('keydown', (event) => {\n            this.keyCode = event.key;\n        });\n\n        document.addEventListener('input', (event) => {\n            if (this.serviceKey() === true) {\n                return;\n            }\n            let inputValue = this.phoneInput.value,\n                currentPosition = this.phoneInput.selectionStart,\n                inputPosition = this.phoneInput.selectionStart - 1;\n\n            while (this.template[inputPosition] !== '_' && inputPosition < this.template.length) {\n                inputPosition++;\n                this.setCursorPosition(inputPosition);\n            }\n\n            if (!isNaN(parseInt(inputValue[inputPosition])) && this.template[inputPosition] === '_') {\n                this.curentString = this.curentString.replaceAt(inputPosition, inputValue[inputPosition]);\n                this.setInput(this.curentString);\n                this.setCursorPosition(currentPosition);\n            } else {\n                this.setInput(this.curString);\n                this.setCursorPosition(inputPosition);\n            }\n\n            while (this.template[currentPosition] !== '_' && currentPosition < this.template.length) {\n                currentPosition++;\n                this.setCursorPosition(currentPosition);\n            }\n\n        });\n    }\n\n    clearField() {\n        this.curentString = this.template;\n        this.phoneInput.value = this.template;\n        this.setCursorPosition(this.startPosition);\n        this.phoneInput.focus();\n    }\n\n    setInput(text = '') {\n        this.curentString = text === '' ? this.curentString : text;\n        this.phoneInput.value = this.curentString;\n    }\n\n    setCursorPosition(pos) {\n        this.phoneInput.setSelectionRange(pos,pos);\n    }\n\n    serviceKey() {\n        let keyCode = this.keyCode,\n            currentPosition = this.phoneInput.selectionStart;\n\n        if (keyCode === 'ArrowLeft' || keyCode === 'ArrowRight') {\n            return true;\n        }\n\n        if (keyCode === 'Delete') {\n            return true;\n        }\n\n        if (keyCode === 'Backspace') {\n            while (this.template[currentPosition] !== '_' && currentPosition > 0) {\n                currentPosition--;\n            }\n            this.curentString = this.curentString.replaceAt(currentPosition, this.template[currentPosition]);\n            this.setInput();\n            this.setCursorPosition(currentPosition);\n            return true;\n        }\n        return false;\n    }\n}\n\nmodule.exports = PhoneTemplate;","'use strict';\n/*\nlet sliderElements = {\n    sliderContainer: document.querySelector(''),\n    sliders: document.querySelectorAll(''),\n    prev: document.querySelector(''),\n    next: document.querySelector(''),\n    dotsWrap: document.querySelector(''),\n    fromLeftClass: 'fadeInLeftBig',\n    fromRightClass: 'fadeInRightBig',\n    toLeftClass: 'fadeOutLeftBig',\n    toRightClass: 'fadeOutRightBig',\n    animationTimeout: 1000,\n    slideInterval: 10000,\n};\n */\n\n\nclass Slider {\n    constructor(sliderElements) {\n        //slider\n        this.sliderContainer = sliderElements.sliderContainer;\n        this.slides = sliderElements.sliders;\n        this.prev = sliderElements.prev;\n        this.next = sliderElements.next;\n        this.dotsWrap = sliderElements.dotsWrap;\n        this.fromLeftClass = typeof sliderElements.fromLeftClass === \"undefined\" ? 'fadeInLeftBig' : sliderElements.fromLeftClass;\n        this.fromRightClass = typeof sliderElements.fromRightClass === \"undefined\" ? 'fadeInRightBig' : sliderElements.fromRightClass;\n        this.toLeftClass = typeof sliderElements.toLeftClass === \"undefined\" ? 'fadeOutLeftBig' : sliderElements.toLeftClass;\n        this.toRightClass = typeof sliderElements.toRightClass === \"undefined\" ? 'fadeOutRightBig' : sliderElements.toRightClass;\n        this.animationTimeout = typeof sliderElements.animationTimeout === \"undefined\" ? 1000 : sliderElements.animationTimeout;\n        this.slideInterval = typeof sliderElements.slideInterval === \"undefined\" ? 10000 : sliderElements.slideInterval;\n\n        this.startIndex = 0;\n        this.currentIndex = 0;\n\n        this.initSlider(this.startIndex);\n    }\n\n    nextSlide(){\n        let currentIndex = this.currentIndex,\n            nextIndex = this.currentIndex >= this.slides.length - 1 ? 0 : this.currentIndex + 1;\n\n        this.slides[currentIndex].classList.add(this.toLeftClass);\n        this.slides[nextIndex].classList.add(this.fromRightClass);\n        this.slides[nextIndex].style.display = 'block';\n\n        setTimeout(() => {\n            this.slides[currentIndex].style.display = 'none';\n            this.slides[currentIndex].classList.remove(this.toLeftClass);\n            this.slides[nextIndex].classList.remove(this.fromRightClass);\n        }, this.animationTimeout);\n\n        this.currentIndex = nextIndex;\n    }\n\n    prevSlide(){\n        let currentIndex = this.currentIndex,\n            nextIndex = this.currentIndex <= 0 ? this.slides.length - 1 : this.currentIndex - 1;\n\n        this.slides[currentIndex].classList.add(this.toRightClass);\n        this.slides[nextIndex].classList.add(this.fromLeftClass);\n        this.slides[nextIndex].style.display = 'block';\n\n        setTimeout(() => {\n            this.slides[currentIndex].style.display = 'none';\n            this.slides[currentIndex].classList.remove(this.toRightClass);\n            this.slides[nextIndex].classList.remove(this.fromLeftClass);\n        }, this.animationTimeout);\n\n        this.currentIndex = nextIndex;\n    }\n\n    initSlider(startIndex = 0) {\n        this.slides.forEach((item) => item.style.display = 'none');\n\n        this.slides[startIndex].style.display = 'block';\n        this.slides[startIndex].classList.add(this.fromRightClass);\n        setTimeout(() => this.slides[startIndex].classList.remove(this.fromRightClass), this.animationTimeout);\n        this.currentIndex = startIndex;\n\n        let autoSlide = setInterval(() => this.nextSlide(), this.slideInterval);\n\n        this.next.addEventListener('click', () => {\n            this.nextSlide();\n            clearInterval(autoSlide);\n            setTimeout(() => autoSlide = setInterval(() => this.nextSlide(), this.slideInterval), 10000 );\n        });\n        this.prev.addEventListener('click', () => {\n            this.prevSlide();\n            clearInterval(autoSlide);\n            setTimeout(() => autoSlide = setInterval(() => this.nextSlide(), this.slideInterval), 10000 );\n        });\n    }\n}\nmodule.exports = Slider;\n\n/*\n.fadeInLeftBig {\n    -webkit-animation-name: fadeInLeftBig;\n    animation-name: fadeInLeftBig;\n    -webkit-animation-duration: 1.0s;\n    animation-duration: 1.0s;\n    -webkit-animation-name: fadeInLeftBig;\n    -webkit-animation-duration: 1.0s;\n}\n\n@-webkit-keyframes fadeInLeftBig {\n    from {\n        opacity: 0;\n        -webkit-transform: translate3d(-2000px, 0, 0);\n        transform: translate3d(-2000px, 0, 0);\n    }\n\n    to {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 0);\n        transform: translate3d(0, 0, 0);\n    }\n}\n\n@keyframes fadeInLeftBig {\n    from {\n        opacity: 0;\n        -webkit-transform: translate3d(-2000px, 0, 0);\n        transform: translate3d(-2000px, 0, 0);\n    }\n\n    to {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 0);\n        transform: translate3d(0, 0, 0);\n    }\n}\n.fadeInRightBig {\n    -webkit-animation-name: fadeInRightBig;\n    animation-name: fadeInRightBig;\n    -webkit-animation-duration: 1.0s;\n    animation-duration: 1.0s;\n    -webkit-animation-name: fadeInRightBig;\n    -webkit-animation-duration: 1.0s;\n\n\n}\n@-webkit-keyframes fadeInRightBig {\n    from {\n        opacity: 0;\n        -webkit-transform: translate3d(2000px, 0, 0);\n        transform: translate3d(2000px, 0, 0);\n    }\n\n    to {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 0);\n        transform: translate3d(0, 0, 0);\n    }\n}\n\n@keyframes fadeInRightBig {\n    from {\n        opacity: 0;\n        -webkit-transform: translate3d(2000px, 0, 0);\n        transform: translate3d(2000px, 0, 0);\n    }\n\n    to {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 0);\n        transform: translate3d(0, 0, 0);\n    }\n}\n.fadeOutRightBig {\n    -webkit-animation-name: fadeOutRightBig;\n    animation-name: fadeOutRightBig;\n    -webkit-animation-duration: 1.0s;\n    animation-duration: 1.0s;\n    -webkit-animation-name: fadeOutRightBig;\n    -webkit-animation-duration: 1.0s;\n}\n\n@-webkit-keyframes fadeOutRightBig {\n    from {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 0);\n        transform: translate3d(0, 0, 0);\n    }\n\n    to {\n        opacity: 0;\n        -webkit-transform: translate3d(2000px, 0, 0);\n        transform: translate3d(2000px, 0, 0);\n    }\n}\n@keyframes fadeOutRightBig {\n    from {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 0);\n        transform: translate3d(0, 0, 0);\n    }\n\n    to {\n        opacity: 0;\n        -webkit-transform: translate3d(2000px, 0, 0);\n        transform: translate3d(2000px, 0, 0);\n    }\n}\n.fadeOutLeftBig {\n    -webkit-animation-name: fadeOutLeftBig;\n    animation-name: fadeOutLeftBig;\n    -webkit-animation-duration: 1.0s;\n    animation-duration: 1.0s;\n    -webkit-animation-name: fadeOutLeftBig;\n    -webkit-animation-duration: 1.0s;\n}\n@-webkit-keyframes fadeOutLeftBig {\n    from {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 0);\n        transform: translate3d(0, 0, 0);\n    }\n\n    to {\n        opacity: 0;\n        -webkit-transform: translate3d(-2000px, 0, 0);\n        transform: translate3d(-2000px, 0, 0);\n    }\n}\n@keyframes fadeOutLeftBig {\n    from {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 0);\n        transform: translate3d(0, 0, 0);\n    }\n\n    to {\n        opacity: 0;\n        -webkit-transform: translate3d(-2000px, 0, 0);\n        transform: translate3d(-2000px, 0, 0);\n    }\n}\n */","'use strict';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    //1. Modules require\n    let ModalWindow = require('./ModalWindow.js'),\n        AjaxRequest = require('./AjaxSend.js'),\n        PhoneTemplate = require('./PhoneTemplate.js'),\n        Calculator = require('./Calculator.js'),\n        FilterElements = require('./FilterElements.js'),\n        Slider = require('./Slider.js'),\n        Accordion = require('./Accordion.js'),\n        Messages = require('./Messages.js');\n\n    // initial variables\n    let ajax = new AjaxRequest();\n\n    let messages = {\n        invalidPhone: {\n            text: 'Заполните поле телефона'\n        }\n    };\n\n    //2. Modal popups\n    let modalCheckout = new ModalWindow(\n            document.querySelector('.popup-design .popup-dialog'),\n            document.querySelector('.popup-design'),\n            document.querySelectorAll('.button-design'),\n            [\n                document.querySelector('.popup-design .popup-close'),\n            ]),\n        modalConsultation = new ModalWindow(\n            document.querySelector('.popup-consultation .popup-dialog'),\n            document.querySelector('.popup-consultation'),\n            document.querySelectorAll('.button-consultation'),\n            [\n                document.querySelector('.popup-consultation .popup-close'),\n            ]),\n        modalGift = new ModalWindow     (\n            document.querySelector('.popup-gift .popup-dialog'),\n            document.querySelector('.popup-gift'),\n            document.querySelectorAll('.fixed-gift'),\n            [\n                document.querySelector('.popup-gift .popup-close')\n            ]\n        );\n    //12 main form\n\n    \n    //11. Accordion\n    let accordion = new Accordion(\n        document.querySelector('#accordion'),\n        document.querySelectorAll('#accordion .accordion-heading'),\n        document.querySelectorAll('#accordion div')\n    );\n\n    //10. bottom Slider\n    let slider = new Slider({\n        sliderContainer: document.querySelector('.feedback-slider'),\n        sliders: document.querySelectorAll('.feedback-slider-item'),\n        prev: document.querySelector('.main-prev-btn'),\n        next: document.querySelector('.main-next-btn'),\n        slideInterval: 5000\n    });\n\n    //9. Images on hover\n    let imagesContainer = document.querySelector('.sizes-wrapper'),\n        imageContainer = imagesContainer.querySelectorAll('.sizes-block');\n\n    function shoveImage(item) {\n        let image = item.querySelector('img'),\n            index = image.src.match(/-[\\d]/)[0],\n            other = item.querySelectorAll('p');\n        image.src = `img/sizes${index}-1.png`;\n        other.forEach((item) => item.style.display = item.classList.contains('sizes-hit') ? 'block' : 'none');\n    }\n\n    function hideImage(item) {\n        let image = item.querySelector('img'),\n            index = image.src.match(/-[\\d]/)[0],\n            other = item.querySelectorAll('p');\n        image.src = `img/sizes${index}.png`;\n        other.forEach((item) => item.style.display = 'block');\n    }\n\n    imageContainer.forEach((item) => {\n        item.addEventListener('mouseover', () => shoveImage(item));\n        item.addEventListener('mouseleave', () => hideImage(item));\n        item.addEventListener('touchstart', () => shoveImage(item));\n        item.addEventListener('touchleave', () => hideImage(item));\n    });\n\n    \n    //8. Filter Elements\n    let filterElements = new FilterElements(\n        document.querySelector('.portfolio-menu'),\n        document.querySelector('.portfolio-wrapper')\n    );\n\n    //7. Calculator\n    let calculatorSection = document.querySelector('.calc');\n    let calculatorObject  = [\n        {\n            element: calculatorSection.querySelector('#size'),\n            priceScope: [0, 1000, 1500, 2000, 2500],\n            isTrigger: true,\n            isRequire: true,\n            errorMessage: 'Не выбран размер',\n        },\n        {\n            element: calculatorSection.querySelector('#material'),\n            priceScope: [0, 1000, 2000, 3000],\n            isTrigger: true,\n            isRequire: true,\n            errorMessage: 'Не выбран материал',\n        },\n        {\n            element: calculatorSection.querySelector('#options'),\n            priceScope: [0, 1000, 3000, 3000],\n            isTrigger: true,\n            isRequire: false,\n        },\n    ];\n\n    let calculator = new Calculator(\n        calculatorObject,\n        calculatorSection.querySelector('.button-order'),\n        calculatorSection.querySelector('.calc-price'),\n        'Для расчета нужно выбрать размер картины и материал картины'\n    );\n    calculator.addBonusCode(\n        calculatorSection.querySelector('.promocode'),\n        'IWANTPOPART',\n        30,\n        true\n    );\n    calculatorSection.querySelector('form').addEventListener('submit', (event) => {event.preventDefault();});\n\n\n    //6. Show more stiles\n    let moreStilesButton = document.querySelector('.button-styles'),\n        hidenBlocks = document.querySelectorAll('.styles .hidden-lg'),\n        classToShow = 'col-sm-3 col-sm-offset-0 col-xs-10 col-xs-offset-1';\n    moreStilesButton.addEventListener('click', () => {\n        hidenBlocks.forEach((element) => {\n            element.className = classToShow;\n        });\n        moreStilesButton.style.display = 'none';\n    });\n\n\n    //5.gift\n    let giftIcon = document.querySelector('.fixed-gift');\n    setTimeout(() => {\n        giftIcon.style.display = 'block';\n    },3000);\n    giftIcon.addEventListener('click', () => {\n        giftIcon.style.display = 'none';\n    });\n\n    //4.ajax submit for checkout modal window\n    (() => {\n        //create message div block\n        let messageObject = new Messages(),\n            messageContainer = messageObject.getMessageContainer();\n\n        let checkoutWindow = document.querySelector('.popup-design .popup-content'),\n            checkoutForm = checkoutWindow.querySelector('.popup-dialog form'),\n            checkoutSubmitButton = checkoutWindow.querySelector('.button-order'),\n            checkoutInputPhone = checkoutWindow.querySelector('input[name=phone]');\n\n        let phoneCheckout = new PhoneTemplate(checkoutInputPhone, '+375 (__) ___-__-__', 6);\n        checkoutWindow.appendChild(messageContainer);\n\n        //phone validation\n        checkoutSubmitButton.addEventListener('mouseover', (event) => {\n            if (phoneCheckout.isValid() !== true) {\n                checkoutInputPhone.focus();\n                checkoutInputPhone.setCustomValidity(messages.invalidPhone.text);\n            } else {\n                checkoutInputPhone.setCustomValidity('');\n            }\n        });\n        checkoutSubmitButton.addEventListener('mouseleave', (event) => {\n            checkoutInputPhone.setCustomValidity('');\n        });\n\n        //text validation\n        checkoutWindow.querySelector('input[name=name]').addEventListener('input',(event)=> {\n            event.target.value = event.target.value.replace(/[^а-я]/gi,'');\n        });\n        checkoutWindow.querySelector('textarea[name=message]').addEventListener('input',(event)=> {\n            event.target.value = event.target.value.replace(/[^а-я]/gi,'');\n        });\n        checkoutWindow.querySelector('input[name=email]').setAttribute('type', 'email');\n\n        function resetForm() {\n            modalCheckout.modalHide();\n            checkoutForm.querySelectorAll('input').forEach((item) => {item.value = ''; });\n            messageContainer.style.display = 'none';\n            checkoutForm.style.display = 'block';\n            phoneCheckout.clearField();\n        }\n\n        //ajax send\n        checkoutForm.addEventListener('submit', (event) => {\n            event.preventDefault();\n\n            messageObject.setMessageToProcess();\n            messageContainer.style.display = 'block';\n            checkoutForm.style.display = 'none';\n\n            ajax.ajaxSendResponce(checkoutForm,'POST', 'server.php')\n                .then(\n                    responce =>  {\n                        messageObject.setMessageToSuccess();\n                        setTimeout(() => resetForm(), 5000);\n                    },error =>  {\n                        messageObject.setMessageToError();\n                        setTimeout(() => resetForm(), 5000);\n                    }\n                );\n        });\n    })();\n\n\n    //4. ajax submit for consultation modal window\n    (() => {\n        //create message div block\n        let messageObject = new Messages(),\n            messageContainer = messageObject.getMessageContainer();\n\n        let consultationWindow = document.querySelector('.popup-consultation .popup-content'),\n            consultationForm = consultationWindow.querySelector('.popup-dialog form'),\n            consultationSubmitButton = consultationWindow.querySelector('.button-order'),\n            consultationInputPhone = consultationWindow.querySelector('input[name=phone]');\n        let phoneConsultation = new PhoneTemplate(consultationInputPhone, '+375 (__) ___-__-__', 6);\n        consultationWindow.appendChild(messageContainer);\n\n        //phone validation\n        consultationSubmitButton.addEventListener('mouseover', (event) => {\n            if (phoneConsultation.isValid() !== true) {\n                consultationInputPhone.focus();\n                consultationInputPhone.setCustomValidity(messages.invalidPhone.text);\n            } else {\n                consultationInputPhone.setCustomValidity('');\n            }\n        });\n        consultationSubmitButton.addEventListener('mouseleave', (event) => {\n            consultationInputPhone.setCustomValidity('');\n        });\n\n        //text validation\n        consultationWindow.querySelector('input[name=name]').addEventListener('input',(event)=> {\n            event.target.value = event.target.value.replace(/[^а-я]/gi,'');\n        });\n\n        function resetForm() {\n            modalConsultation.modalHide();\n            consultationForm.querySelectorAll('input').forEach((item) => {item.value = ''; });\n            messageContainer.style.display = 'none';\n            consultationForm.style.display = 'block';\n            phoneConsultation.clearField();\n        }\n\n        //ajax send\n        consultationForm.addEventListener('submit', (event) => {\n            event.preventDefault();\n\n            messageObject.setMessageToProcess();\n            messageContainer.style.display = 'block';\n            consultationForm.style.display = 'none';\n\n            ajax.ajaxSendResponce(consultationForm,'POST', 'server.php')\n                .then(\n                    responce =>  {\n                        messageObject.setMessageToSuccess();\n                        setTimeout(() => resetForm(), 5000);\n                    },error =>  {\n                        messageObject.setMessageToError();\n                        setTimeout(() => resetForm(), 5000);\n                    }\n                );\n        });\n    })();\n\n});\n\n\n"],"sourceRoot":""}